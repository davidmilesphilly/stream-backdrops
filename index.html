<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Stream Backdrops â€“ Free HD Virtual Backgrounds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="style.css"/>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
  <!-- HERO (unchanged) -->
  <header class="hero" style="background:url('/backgrounds/digital-architecture-visualization.jpg') center/cover;">
    <div>
      <h1>Instant Professional Backgrounds</h1>
      <p>Look great on every Zoom, Teams, or Meet call</p>
      <a href="#gallery" class="cta">Get Started Free</a>
    </div>
  </header>

  <!-- AD SLOT -->
  <div class="ad-slot">
    <ins class="adsbygoogle" style="display:block"
         data-ad-client="ca-pub-XXXXXXXXXXXX"
         data-ad-slot="1234567890"
         data-ad-format="auto"></ins>
  </div>

  <!-- LIVE DEMO -->
  <section id="demo">
    <h2>Try it now</h2>
    <div class="preview">
      <video id="webcam" autoplay muted playsinline></video>
      <canvas id="canvas"></canvas>
    </div>
    <div id="controls">
      <select id="bgSelect"><option value="">Choose backdropâ€¦</option></select>
      <button id="snapBtn">Download HD</button>
    </div>
  </section>

  <!-- AUTO-GALLERY -->
  <section id="gallery">
    <h2>Free Backgrounds</h2>
    <div id="gallery-grid" class="grid">
      <!-- injected automatically -->
    </div>
  </section>

  <footer>
    <p>Need branded 4K packs?
      <a href="https://gumroad.com/l/50-4k-pack" target="_blank">Upgrade to Pro â†’</a>
    </p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation@0.1/selfie_segmentation.js"></script>
  <script src="app.js"></script>

  <!-- ðŸš€ Auto-gallery loader -->
  <script>
  /* Pull every JPG/PNG from /backgrounds/ */
  fetch('https://api.github.com/repos/davidmilesphilly/stream-backdrops/contents/backgrounds')
    .then(r => r.json())
    .then(list => list.filter(f => /\.(jpe?g|png)$/i.test(f.name)))
    .then(files => {
      const grid = document.getElementById('gallery-grid');
      files.forEach(f => {
        const img = document.createElement('img');
        img.src = f.download_url;
        img.alt = f.name.replace(/[-_]/g, ' ').replace(/\.\w+$/, '');
        img.loading = 'lazy';
        grid.appendChild(img);

        /* Also add to the demo <select> */
        const opt = document.createElement('option');
        opt.value = f.download_url;
        opt.textContent = f.name.replace(/\.\w+$/, '').replace(/[-_]/g, ' ');
        document.getElementById('bgSelect').appendChild(opt);
      });
    })
    .catch(console.error);
  </script>
</body>
</html>
